name: Environment git hub on

on: [push]
#https://docs.github.com/en/actions/learn-github-actions/environment-variables
env:
  WF_ENV: Available all jobs
  # em git fetch depois,git switch master e git push -u origin, e que o repositorio para o boot  inicia vazio
  # poderíamos configurar qualquer usuário ali
jobs:
  long-env:
    runs-on: ubuntu-latest
    env:
      JOB_ENV: Available in job
    steps:
      - name: Send random text
        run: |
          pwd  
          ls -a
          git init
          git remote add origin "https://$GITHUB_ACTOR:${{ secrets.GITHUB_TOKEN }}@github.com/$GITHUB_REPOSITORY.git"
          git config --global user.email "bot@email.com"
          git config --global user.name  "boot"
          ls -a 
          pwd
          git fetch
          git switch develop                       
          git push -u origin develop
          git pull
          echo $RANDOM >> random.txt
          git add .
          git commit -m "boot added number random"
          git push -u origin develop
      - name: List environment
        env:
          STEP_ENV: Available in steep
        run: |
          echo Environment global "$WF_ENV"
          echo Environment job "$JOB_ENV"
          echo Environment step "$STEP_ENV"

  short-env:
    runs-on: ubuntu-latest
    steps:
      - name: List environment git hub
        run: |
          echo Environment global "$WF_ENV"
          echo Name of job $GITHUB_JOB
          echo Id commit  $GITHUB_SHA
